{"version":3,"sources":["tags.js"],"names":["tagsInput","document","querySelector","tagsDiv","tagsInputHidden","tags","mostrarTags","textContent","forEach","tag","etiqueta","createElement","classList","add","ondblclick","eliminarTag","appendChild","actualizarInputHidden","e","target","remove","filter","t","value","join","split","addEventListener","keyCode","inputValue","trim","preventDefault","endsWith","slice"],"mappings":"CAAA,WACA,MAAAA,EAAAC,SAAAC,cAAA,eAEA,GAAAF,EAAA,CACA,MAAAG,EAAAF,SAAAC,cAAA,SACAE,EAAAH,SAAAC,cAAA,iBAEA,IAAAG,EAAA,GA6BA,SAAAC,IACAH,EAAAI,YAAA,GACAF,EAAAG,QAAAC,IACA,MAAAC,EAAAT,SAAAU,cAAA,MACAD,EAAAE,UAAAC,IAAA,mBACAH,EAAAH,YAAAE,EACAC,EAAAI,WAAAC,EACAZ,EAAAa,YAAAN,KAGAO,IAGA,SAAAF,EAAAG,GACAA,EAAAC,OAAAC,SACAf,EAAAA,EAAAgB,OAAAC,GAAAA,IAAAJ,EAAAC,OAAAZ,aAEAU,IAGA,SAAAA,IACAb,EAAAmB,MAAAlB,EAAAmB,KAAA,KA/CApB,EAAAmB,QACAlB,EAAAD,EAAAmB,MAAAE,MAAA,KACAnB,KAIAN,EAAA0B,iBAAA,SAEA,SAAAR,GACA,GAAA,MAAAA,EAAAS,QAAA,CACA,IAAAC,EAAAV,EAAAC,OAAAI,MAAAM,OACA,GAAA,KAAAD,GAAAA,EAAA,EACA,OAEAV,EAAAY,iBAEAF,EAAAG,SAAA,OACAH,EAAAA,EAAAI,MAAA,GAAA,IAEA3B,EAAA,IAAAA,EAAAuB,GACA5B,EAAAuB,MAAA,GAEAjB,SAhCA","file":"bundle.js","sourcesContent":["(function () {\r\n  const tagsInput = document.querySelector(\"#tags_input\");\r\n\r\n  if (tagsInput) {\r\n    const tagsDiv = document.querySelector(\"#tags\");\r\n    const tagsInputHidden = document.querySelector(\"[name='tags']\");\r\n\r\n    let tags = [];\r\n\r\n    // Recuperar del input hidden los tags que ya existen\r\n    if (tagsInputHidden.value) {\r\n      tags = tagsInputHidden.value.split(\",\");      \r\n      mostrarTags();\r\n    }\r\n\r\n    // Escuchar los cambios en el input\r\n    tagsInput.addEventListener(\"keyup\", guardarTag);    \r\n\r\n    function guardarTag(e) {      \r\n        if (e.keyCode === 188) {\r\n            let inputValue = e.target.value.trim();\r\n            if (inputValue === \"\" || inputValue < 1) {\r\n              return;\r\n            }\r\n            e.preventDefault();\r\n            // Si el último carácter es una coma, lo eliminamos\r\n            if (inputValue.endsWith(\",\")) {\r\n              inputValue = inputValue.slice(0, -1);\r\n            }\r\n            tags = [...tags, inputValue];\r\n            tagsInput.value = \"\";\r\n        \r\n            mostrarTags();\r\n          }\r\n    }\r\n\r\n    function mostrarTags() {\r\n      tagsDiv.textContent = \"\";\r\n      tags.forEach((tag) => {\r\n        const etiqueta = document.createElement(\"LI\");\r\n        etiqueta.classList.add(\"formulario__tag\");\r\n        etiqueta.textContent = tag;\r\n        etiqueta.ondblclick = eliminarTag;\r\n        tagsDiv.appendChild(etiqueta);\r\n      });\r\n\r\n      actualizarInputHidden();\r\n    }\r\n\r\n    function eliminarTag(e) {\r\n      e.target.remove();\r\n      tags = tags.filter((t) => t !== e.target.textContent);\r\n\r\n      actualizarInputHidden();\r\n    }\r\n\r\n    function actualizarInputHidden() {\r\n      tagsInputHidden.value = tags.join(\",\");\r\n    }\r\n  }\r\n})();\r\n"]}